<app-header [title]="'My vineyards'" [seasons]="seasons" [activeSeason]="activeSeason" (setSeason)="setSeason($event)" [showBackButton]="false"> </app-header>
<ion-content id="map-content">
  <div id="map"></div>
</ion-content>
<div id="popup" class="ol-popup">
  <a href="#" id="popup-closer" class="ol-popup-closer" (click)="closePopup()"></a>
  <div id="popup-content">
    <div class="title">{{activeVineyard?.name}}</div>
    <div class="row">
      <div class="icon">
        <ion-icon name="home-outline"></ion-icon>
      </div>
      <div>
        {{activeVineyard?.address}}
      </div>
    </div>
    <div class="row">
      <div class="icon">
        <ion-icon name="leaf-outline"></ion-icon>
      </div>
      <div>
        {{getVariety(activeVineyard, activeSeason)}}
      </div>
    </div>
    <div class="row">
        <div class="icon">
          <ion-icon name="pricetags-outline"></ion-icon>
        </div>
        <div>
          {{getVarietyCount(activeVineyard, activeSeason)}} plants
        </div>
      </div>
      <div class="row">
        <div class="icon">
          <ion-icon name="time-outline"></ion-icon>
        </div>
        <div>
          {{getLastUpdate(activeVineyard) | date:'dd/MM/yyyy'}}
        </div>
      </div>
    <div class="row">
      <div class="actions">
        <ion-button size="small" (click)="openVineyard(activeVineyard)">Show info</ion-button>
      </div>
    </div>
  </div>
</div>
