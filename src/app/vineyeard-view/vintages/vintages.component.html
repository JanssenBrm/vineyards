<h1><ion-icon name="wine-outline" slot="start"></ion-icon>Vintages</h1>
<div class="container">
  <div class="sidebar" *appHideOnPlatform="['mobile']">
    <div class="list">
      <ion-list>
        <ion-item button *ngFor="let v of vintages" (click)="setVintage(v)" [class.selected]="v === vintage">
          <ion-label>
            <div class="title"><span>{{v.name}}</span><span class="actions"><ion-icon name="create-outline" (click)="editVintage(v)"></ion-icon><ion-icon name="trash-outline" (click)="deleteVintage(v)"></ion-icon></span></div>
            <div class="year"><ion-icon name="calendar-outline" class="icon"></ion-icon>{{v.year}}</div>
            <div class="variety"><img class="icon" [src]="'assets/icon/grape_' + v.color.toLowerCase() +'.png'" />{{vineyardService.getVintageVarietiesLabel(vineyard, v)}}</div>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
    <div class="footer">
      <ion-button (click)="openAddVintageModal()"><ion-icon slot="start" name="add-outline"></ion-icon><ion-label>Add vintage</ion-label></ion-button>
    </div>
  </div>
  <div class="content" *ngIf="vintage">
      <div class="cover" [style.background]="vintage.cover ? 'url(' + vintage.cover + ')' : 'url(/assets/images/vintage.jpg)'">
        <div class="text">
          <span class="title">{{vintage.name}}</span>
          <span class="year">{{vintage.year}}</span>
        </div>
      </div>
      <app-timeline [vineyard]="vineyard" [vintage]="vintage"></app-timeline>
      <app-notes [vineyard]="vineyard" [vintage]="vintage"></app-notes>
  </div>
</div>
